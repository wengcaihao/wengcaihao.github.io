<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" integrity="sha256-jTIdiMuX/e3DGJUGwl3pKSxuc6YOuqtJYkM0bGQESA4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.10.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="水中岚的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="水中岚">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="水中岚">
<meta property="og:description" content="水中岚的博客">
<meta property="og:locale">
<meta property="article:author" content="水中岚">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-Hans","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>水中岚</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">水中岚</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">尽人事 听天命</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="水中岚"
      src="/uploads/me.jpg">
  <p class="site-author-name" itemprop="name">水中岚</p>
  <div class="site-description" itemprop="description">水中岚的博客</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives">
          <span class="site-state-item-count">27</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/25/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-25-%E7%AC%AC9%E7%AB%A0-NR%E4%B8%8ELTE%E5%85%B1%E5%AD%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/me.jpg">
      <meta itemprop="name" content="水中岚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水中岚">
      <meta itemprop="description" content="水中岚的博客">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 水中岚">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/05/25/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-25-%E7%AC%AC9%E7%AB%A0-NR%E4%B8%8ELTE%E5%85%B1%E5%AD%98/" class="post-title-link" itemprop="url">第9章-NR与LTE共存</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-05-25 16:31:17" itemprop="dateCreated datePublished" datetime="2022-05-25T16:31:17+08:00">2022-05-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-26 19:43:27" itemprop="dateModified" datetime="2022-05-26T19:43:27+08:00">2022-05-26</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="邻频共存"><a href="#邻频共存" class="headerlink" title="邻频共存"></a>邻频共存</h1><p>邻频共存：LTE系统和NR系统部署在相邻的频谱上。</p>
<p>邻频共存的实现方式：</p>
<ul>
<li><p>半静态FDM方式：在LTE系统和NR系统之间半静态划分频谱，可以根据NR和LTE网络的业务量调整划分比例。该方法调整较为缓慢，不够灵活。</p>
</li>
<li><p>半静态FDM+CA方式：LTE系统和NR系统各自占用一部分固定的频谱资源，同时预留一部分的频谱资源，同时预留一部分频谱作为LTE系统或NR系统的辅助载波配置给UE。这样，网络可以根据UE的渗透率较为灵活地调整NR系统和LTE系统所占用的频谱。</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/22/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-22-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%BA%8C-Polar%E7%A0%81%E7%9A%84%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/me.jpg">
      <meta itemprop="name" content="水中岚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水中岚">
      <meta itemprop="description" content="水中岚的博客">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 水中岚">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/05/22/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-22-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%BA%8C-Polar%E7%A0%81%E7%9A%84%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">第8章-信道编码设计(二)-Polar码的编码方案</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-05-22 14:58:09" itemprop="dateCreated datePublished" datetime="2022-05-22T14:58:09+08:00">2022-05-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-23 15:19:53" itemprop="dateModified" datetime="2022-05-23T15:19:53+08:00">2022-05-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Polar码的编码方案"><a href="#Polar码的编码方案" class="headerlink" title="Polar码的编码方案"></a>Polar码的编码方案</h1><img src="/2022/05/22/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-22-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%BA%8C-Polar%E7%A0%81%E7%9A%84%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE1.png" class>

<h2 id="Polar码的基本原理"><a href="#Polar码的基本原理" class="headerlink" title="Polar码的基本原理"></a>Polar码的基本原理</h2><p>Polar码（极化码）建立在信道极化的基础上。信道极化可以使得多个相同的信道产生差异，从而出现较好的信道（信道容量趋近于“1”）与较差的信道（信道容量趋近于“0”）。将要传输的数据加载在容量趋近于1的信道上，而容量趋近于0的信道不用于数据传输，就可以实现数据的可靠传输。</p>
<h2 id="NR-Polar码的设计"><a href="#NR-Polar码的设计" class="headerlink" title="NR Polar码的设计"></a>NR Polar码的设计</h2><p>当上行控制信息比特较长时，采用CA-Polar码；</p>
<p>当上行控制信息比特很短时，采用PC-CA Polar码；</p>
<p>下行控制信息为了降低UE监听PDCCH的功耗，在CA-Polar码的基础之上引入早停特性，即可以提前结束解码，达到省电与降低解码时延的功效，即Distributed CRC Polar码。</p>
<h2 id="序列设计"><a href="#序列设计" class="headerlink" title="序列设计"></a>序列设计</h2><p>Polar码的序列构造就是根据比特信道的可靠度（信道容量）的高低，选取可靠度的比特信道放置信息比特，可靠度低的比特信道放置冻结比特。</p>
<h2 id="速率匹配"><a href="#速率匹配" class="headerlink" title="速率匹配"></a>速率匹配</h2><img src="/2022/05/22/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-22-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%BA%8C-Polar%E7%A0%81%E7%9A%84%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE2.png" class>

<h2 id="交织器"><a href="#交织器" class="headerlink" title="交织器"></a>交织器</h2><p>Polar码上行采用了三角交织器，结构如下：</p>
<img src="/2022/05/22/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-22-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%BA%8C-Polar%E7%A0%81%E7%9A%84%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE3.png" class>

<h2 id="UCI分段方案"><a href="#UCI分段方案" class="headerlink" title="UCI分段方案"></a>UCI分段方案</h2><p>当$K&gt;&#x3D;360bit且M&gt;&#x3D;1088bit$或$K&gt;&#x3D;1013bit$，UCI分段。其中，$K$是不包含CRC的UCI有效净荷长度，$M$为编码比特。为了确保两个码块采用相同的编码参数，特别是相同的母码长度，需要信息比特和编码比特长度都必须等分。对于分段情况，两个码块分别添加CRC，不对整个码块添加TB-CRC，两个码块编码后分别独立交织，然后串行级联。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/me.jpg">
      <meta itemprop="name" content="水中岚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水中岚">
      <meta itemprop="description" content="水中岚的博客">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 水中岚">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">第8章-信道编码设计(一)-LDPC编码方案</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-05-21 15:12:17" itemprop="dateCreated datePublished" datetime="2022-05-21T15:12:17+08:00">2022-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-22 14:57:58" itemprop="dateModified" datetime="2022-05-22T14:57:58+08:00">2022-05-22</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>NR采用LDPC作为eMMB数据信道编码方案。采用Polar码为控制信道纠错编码方案。</p>
<h1 id="LDPC编码方案"><a href="#LDPC编码方案" class="headerlink" title="LDPC编码方案"></a>LDPC编码方案</h1><p>1.LDPC码的编码流程</p>
<img src="/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE1.png" class>

<h2 id="LDPC码的基本原理"><a href="#LDPC码的基本原理" class="headerlink" title="LDPC码的基本原理"></a>LDPC码的基本原理</h2><p>1、LDPC码属于线性分组码，由一个包含少量非零元素的$m×n$校验矩阵$H$的零空间定义。$X$元LDPC码表示其矩阵$H$中有$X$种非零元素。</p>
<p>如果校验矩阵$H$具有固定的列重$\gamma$和固定的行重$\beta$（其中，$\beta&#x3D;\gamma×n&#x2F;m$且$\gamma&lt;&lt;m$），则称该校验矩阵所定义的LDPC码为规则的，反之则为不规则的。</p>
<p>行列约束：LDPC码任意两行（或两列）同时为非零元素的位置数不超过一个。</p>
<h2 id="NR-LDPC码的设计"><a href="#NR-LDPC码的设计" class="headerlink" title="NR LDPC码的设计"></a>NR LDPC码的设计</h2><p>NR 数据信道编码采用的是二进制准循环LDPC码（QC-LDPC）。QC-LDPC码采用叠加构造主要涉及三个矩阵，分别是<strong>基矩阵、循环移位矩阵和奇偶校验矩阵</strong>，还有一个<strong>矩阵散列</strong>过程。</p>
<h3 id="校验矩阵的基本结构"><a href="#校验矩阵的基本结构" class="headerlink" title="校验矩阵的基本结构"></a>校验矩阵的基本结构</h3><p>为了满足5G性能和频谱效率要求，LDPC采用了增量冗余的HARQ(IR-HARQ)方案，发送端将纠错编码得到的信息比特与校验比特分为多个冗余版本，每次重传一个版本，接收端将接收到的多个冗余版本合并后再进行信道解码，重传的信息是不同版本的增量冗余信息。</p>
<p>NR LDPC码<strong>校验矩阵</strong>的结构为：</p>
<img src="/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE2.png" class>

<p>其中，$H_{HR}$是高码率的校验矩阵，$H_{IR}$是再高码率矩阵基础上扩展的校验矩阵，$I$是单位阵。</p>
<p>NR LDPC码<strong>基础矩阵</strong>的结构为：</p>
<img src="/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE3.png" class>

<p>其中，矩阵$A$由循环置换矩阵和全零矩阵组成的矩阵阵列，对应系统信息位。矩阵$D$对应校验信息位。矩阵$[A$    $ D]$对应一个高码率的LDPC码。矩阵$[E$    $ I]$对应支持IR-HARQ的扩展冗余比特。</p>
<h3 id="矩阵散列"><a href="#矩阵散列" class="headerlink" title="矩阵散列"></a>矩阵散列</h3><p>NR LDPC码的设计采用了将基矩阵利用不同的扩展因子$Z$通过散列过程支持不同信息比特长度的方法。扩展因子被确定基于$Z&#x3D;a×2^j$，$a&#x3D;{2,3,5,7,9,11,13,15}$,$j&#x3D;{0:1:7}$,$a,j$一一对应。</p>
<h3 id="基矩阵与循环系数矩阵的设计"><a href="#基矩阵与循环系数矩阵的设计" class="headerlink" title="基矩阵与循环系数矩阵的设计"></a>基矩阵与循环系数矩阵的设计</h3><p>1、基图(BG)的设计：NR采用了两个独立的BG矩阵设计，位数大的BG主要用于支持高吞吐量，维数小的BG除了用于eMBB小数据传输，更主要目的是用于NR的uRLLC数据传输</p>
<p>2、PCM设计</p>
<img src="/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE4.png" class>

<h2 id="循环冗余校验比特添加"><a href="#循环冗余校验比特添加" class="headerlink" title="循环冗余校验比特添加"></a>循环冗余校验比特添加</h2><img src="/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE5.png" class>

<p>首先对来自MAC层的传输块添加TB-CRC，然后对TB和TB-CRC整体进行分段，在每段上添加CB-CRC，其中最后$n$段的CB-CRC是由$CB_n$和TB-CRC共同计算得到的，最后在逻辑上将CB组合成CBG。</p>
<p>仿真表明，LDPC码自校验功能约相当于8bit的CRC,因此在TBS信息比特长度小于等于3824bit时，应采用16bit的TB-CRC，否则采用24bit的TB-CRC。</p>
<h2 id="码块分段"><a href="#码块分段" class="headerlink" title="码块分段"></a>码块分段</h2><h3 id="基于BG的码块分段方案"><a href="#基于BG的码块分段方案" class="headerlink" title="基于BG的码块分段方案"></a>基于BG的码块分段方案</h3><img src="/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE6.png" class>

<h3 id="码块长度的确定方法"><a href="#码块长度的确定方法" class="headerlink" title="码块长度的确定方法"></a>码块长度的确定方法</h3><p>NR LDPC的分割会尽量使得各个CB的长度近似相等，以保证各CB性能相似，从而使得TB性能达到最优。不同CB长度间的最大差别为1bit，而只差1bit的两个长度可能计算出来相同或不同的扩展因子，因此形成了两种可能的方案：方案一的B分段得到的所有CB采用相同的Z扩展因子；方案二中CB采用两种不同的Z扩展因子。</p>
<img src="/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE7.png" class>

<h3 id="码块组的确定方法"><a href="#码块组的确定方法" class="headerlink" title="码块组的确定方法"></a>码块组的确定方法</h3><p>NR引入CBG作为重传的基本单位，当CBG中的一个CB解码出错时，重传整个CBG，而其他CBG不受影响，这会提高传输效率。</p>
<p>CBG的划分方法为将整个TB分割为多个CB。再将得到的CB组成多个CBG。</p>
<h2 id="速率匹配"><a href="#速率匹配" class="headerlink" title="速率匹配"></a>速率匹配</h2><p>速率匹配：传输信道上的比特被重发或者被打孔，以匹配信道的承载能力，信道映射时达到传输格式所需求的比特速率。</p>
<p>LTE的速率匹配方案：首先对信息比特进行1&#x2F;3码率Turbo编码，然后把所有编码比特按照交织的顺序放入循环缓冲器，缓冲器内的比特均匀划分为4个冗余版本（RV），每个RV对应一个起始点，缓冲器从调度指示的RV对应的起始点开始输出数据，指导输出信道需要的比特数，完成HARQ传输。</p>
<img src="/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE8.png" class>

<p>关于RV的分布，NR采用了RV非均匀分布。BG#1RV的起始位置为$S_i&#x3D;{0,17,33,56}×Z$，BG#2RV的起始位置为$S_i&#x3D;{0,13,25,43}×Z$.</p>
<h2 id="交织器"><a href="#交织器" class="headerlink" title="交织器"></a>交织器</h2><p>交织器:将突发干扰编程随机化的干扰。</p>
<p>根据交织的时间，交织方式可以分为码块内交织和码块间交织；码块间交织比码块内交织的性能好，但解码延迟更大。</p>
<p>根据交织的颗粒度，交织方式可以分为比特交织和码符号交织；比特交织的性能优于符号交织，但交织复杂度高。</p>
<p>常见的交织器有广播系统采用的卷积交织器和移动通信系统常用的块交织器。</p>
<p>NR LDPC码采用了系统比特优先的块交织器，信息比特位于编码比特序列的前端，所以信息比特写入交织器的上面几行，输出时交织器的每一列比特对应一个OFDM符号，信息比特就映射到调制符号的MSB（Most Significant Bit）。该交织器与高阶调制相结合，使得信息比特受到高等级保护，有利于NR系统实现较高的高吞吐量。</p>
<img src="/2022/05/21/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-21-%E7%AC%AC8%E7%AB%A0-%E4%BF%A1%E9%81%93%E7%BC%96%E7%A0%81%E8%AE%BE%E8%AE%A1-%E4%B8%80-LDPC%E7%BC%96%E7%A0%81%E6%96%B9%E6%A1%88/%E5%9B%BE9.png" class>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/18/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-18-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E5%85%AD-%E5%87%86%E5%85%B1%E7%AB%99%E5%9D%80-QCL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/me.jpg">
      <meta itemprop="name" content="水中岚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水中岚">
      <meta itemprop="description" content="水中岚的博客">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 水中岚">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/05/18/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-18-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E5%85%AD-%E5%87%86%E5%85%B1%E7%AB%99%E5%9D%80-QCL/" class="post-title-link" itemprop="url">第7章-大规模多天线传输(六)-准共站址(QCL)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-05-18 14:54:59" itemprop="dateCreated datePublished" datetime="2022-05-18T14:54:59+08:00">2022-05-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-19 20:03:05" itemprop="dateModified" datetime="2022-05-19T20:03:05+08:00">2022-05-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="准共站址-QCL"><a href="#准共站址-QCL" class="headerlink" title="准共站址(QCL)"></a>准共站址(QCL)</h1><h2 id="QCL的定义"><a href="#QCL的定义" class="headerlink" title="QCL的定义"></a>QCL的定义</h2><p>1、准共站址(QCL)是指某个天线端口上的符号所经历的信道的大尺度参数可以从另一个天线端口上的符号所经历的信道推断出来，其中的大尺度参数可以包括为时延扩展、平均时延、多普勒扩展、多普勒频移、平均增益及空间接收参数。</p>
<p>2、NR将信道大尺度参数分为4个类型，便于系统根据不同场景进行配置。</p>
<ul>
<li>QCL类型A：包括多普勒频移、多普勒扩展、平均时延和时延扩展。</li>
<li>QCL类型B：包括多普勒频移和多普勒扩展。</li>
<li>QCL类型C：包括多普勒频移和平均时延。</li>
<li>QCL类型D：包括空间接收参数。</li>
</ul>
<h2 id="QCL关系配置"><a href="#QCL关系配置" class="headerlink" title="QCL关系配置"></a>QCL关系配置</h2><p>1、UE在接收目标参考信号之后，网络要通过信令为其配置其QCL源信号以及目标参考信号与源信号之间的QCL类型。为配置参考信号之间的QCL关系，NR引入了传输配置指示，简称TCI状态。</p>
<p>2、TCI状态的结构为{RS1|QCL-Type1,RS2|QCL-Type2}或{RS1|QCL-Type1}，其中RS1和RS2是下行参考信号的标识信息，QCL-Type1和QCL-Type2是QCL类型。</p>
<p>在TCI状态中，如果包含两个QCL类型，其对应的QCL参数不能有重叠。另外，当TCI两个参考信号为同一个时，他们对应的QCL类型不能相同。</p>
<p>3、TCI状态的配置取决于参考信号的类型，有以下几种方式：</p>
<ul>
<li>通过RRC信令配置：如周期性CSI-RS&#x2F;TRS的TCI状态由RRC信令配置。</li>
<li>通过RRC信令配置，由MAC-CE激活：如半持续的CSI-RS&#x2F;TRS，或者PDCCH的DM-RS是通过RRC信令配置，再由MAXC-CE指示。</li>
<li>通过RRC信令配置，由MAC-CE激活，并利用DCI进行指示“如非周期CSO-RS&#x2F;TRS，或者PDSCH的DM-RS。</li>
</ul>
<h2 id="参考信号间的QCL关系"><a href="#参考信号间的QCL关系" class="headerlink" title="参考信号间的QCL关系"></a>参考信号间的QCL关系</h2><p>根据各种参考信号的用途、时频分布以及依存关系等，NR定义了参考信号之间可能的QCL关系。UE可以根据相应的指示或默认的对应关系从QCL源信号中获取相应的QCL参数，并用于目标参数信号的接收。以下三张表给出了QCL关系，对于一种参考信号，可以确定其能够从何种参考信号获得何种类型。</p>
<img src="/2022/05/18/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-18-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E5%85%AD-%E5%87%86%E5%85%B1%E7%AB%99%E5%9D%80-QCL/%E5%9B%BE1.png" class>

<img src="/2022/05/18/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-18-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E5%85%AD-%E5%87%86%E5%85%B1%E7%AB%99%E5%9D%80-QCL/%E5%9B%BE2.png" class>

<img src="/2022/05/18/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-18-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E5%85%AD-%E5%87%86%E5%85%B1%E7%AB%99%E5%9D%80-QCL/%E5%9B%BE3.png" class>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/11/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-11-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%94-%E4%B8%8A%E8%A1%8C%E5%A4%9A%E5%A4%A9%E7%BA%BF%E6%8A%80%E6%9C%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/me.jpg">
      <meta itemprop="name" content="水中岚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水中岚">
      <meta itemprop="description" content="水中岚的博客">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 水中岚">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/05/11/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-11-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%94-%E4%B8%8A%E8%A1%8C%E5%A4%9A%E5%A4%A9%E7%BA%BF%E6%8A%80%E6%9C%AF/" class="post-title-link" itemprop="url">第7章-大规模多天线传输(五)-上行多天线技术</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-05-11 08:56:30" itemprop="dateCreated datePublished" datetime="2022-05-11T08:56:30+08:00">2022-05-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-17 15:04:53" itemprop="dateModified" datetime="2022-05-17T15:04:53+08:00">2022-05-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="上行多天线技术"><a href="#上行多天线技术" class="headerlink" title="上行多天线技术"></a>上行多天线技术</h1><p>当有多个发射通道时，UE可以通过多天线技术进行上行信号的传输，从而获得多天线处理增益。NR系统上行PUSCH的多天线技术包括基于码本的传输和非码本传输两种方案。</p>
<h2 id="基于码本的传输方案"><a href="#基于码本的传输方案" class="headerlink" title="基于码本的传输方案"></a>基于码本的传输方案</h2><h3 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h3><img src="/2022/05/11/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-11-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%94-%E4%B8%8A%E8%A1%8C%E5%A4%9A%E5%A4%A9%E7%BA%BF%E6%8A%80%E6%9C%AF/%E5%9B%BE1.png" class>

<p>如图所示，NR系统基于码本的上行传输方案的流程为：</p>
<ul>
<li>UE向基站发送上行探测信号（SRS）。</li>
<li>基站测量UE发送的SRS，对UE进行资源调度，将PUSCH的资源分配和相应的调制与编码策略（MCS）、传输预编码矩阵指示（TPMI）、传输指数、SRS资源指示（SRI）、DM-RS端口指示信息等通知给终端。</li>
<li>UE根据基站指示的MCS对数据进行调制编码，并利用SRI、TPMI和传输层数确定数据发送时使用的预编码矩阵和传输层数，进而对数据进行预编码传输。PUSCH的DM-RS与PUSCH的数据采用相同的预编码。</li>
<li>基站根据DM-RS估计上行信道，并进行数据的解调、解码。</li>
</ul>
<h3 id="码本设计"><a href="#码本设计" class="headerlink" title="码本设计"></a>码本设计</h3><ul>
<li>如果UE的两个天线端口间的相对功率差和相对相位差在一定时间窗的变化都在一定范围内，则认为这两个天线端口可以<strong>相干传输</strong>。</li>
<li>相干传输被定为一种UE的能力，NR定义了3种UE的相干传输能力。<ul>
<li>全相干传输：所有的天线端口都可以相干传输。</li>
<li>部分相关传输：同一个相干组内的天线端口可以相干传输，不同相干传输组的天线端口不能相干传输，每个相干传输组包含两个天线端口。</li>
<li>非相干传输：没有天线端口可以相干传输。</li>
</ul>
</li>
</ul>
<h3 id="码本子集限制"><a href="#码本子集限制" class="headerlink" title="码本子集限制"></a>码本子集限制</h3><p>将UE不能使用的码字排除在联合编码的范围之外，可以节省一定的信令开销。</p>
<p>码本子集限制主要从码字相干传输的角度考虑，包括以下三种状态：</p>
<ul>
<li><p>FullyAndPartialAndNonCoherent</p>
</li>
<li><p>PartialAndNonCoherent</p>
</li>
<li><p>NonCoherent</p>
<p>当码本子集限制为FullyAndPartialAndNonCoherent时，上行码本子集为传输层数不大于最大传输层数的所有码字。当码本子集限制为PartialAndNonCoherent时，上行码本子集为传输层数不大于最大传输层数的所有部分相干码字和非相干码字。当码本子集限制为NonCoherent时，上行码本子集为传输层数不大于最大传输层数的所有非相干码字。</p>
<p>对于部分相干能力的UE，码本子集不能配置为FullyAndPartialAndNonCoherent；对于非相干能力的UE，码本子集不能配置为NonCoherent；UE默认为非相干传输能力。</p>
</li>
</ul>
<h2 id="非码本传输方案"><a href="#非码本传输方案" class="headerlink" title="非码本传输方案"></a>非码本传输方案</h2><h3 id="基本原理-1"><a href="#基本原理-1" class="headerlink" title="基本原理"></a>基本原理</h3><p>UE基于信道互易行确定上预编码矩阵。</p>
<img src="/2022/05/11/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-11-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%94-%E4%B8%8A%E8%A1%8C%E5%A4%9A%E5%A4%A9%E7%BA%BF%E6%8A%80%E6%9C%AF/%E5%9B%BE2.png" class>

<p>非码本上行传输方案如上图所示。</p>
<ul>
<li>UE测量下行参考信号，通过对估计出的信道进行奇异值分解(SVD)等获得候选的上行预编码向量，利用所获得的多个预编码向量分别对SRS进行预编码后发送SRS。</li>
<li>基站测量UE所发送的SRS，对UE进行资源调度，将PUSCH的资源分配和相应的MCS、SRI、DM-RS端口指示信息等通知给终端。</li>
<li>UE根据基站发送的MCS对数据进行调制编码，并利用SRI确定数据的预编码和传输层数，对数据进行预编码后发送。非码本上行传输方案PUSCH的DM-RS与PUSCH的数据采用相同的预编码方式。</li>
<li>基站根据DM-RS估计上行信道，进行数据的解调、解码。</li>
</ul>
<p>举个例子：</p>
<img src="/2022/05/11/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-11-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%94-%E4%B8%8A%E8%A1%8C%E5%A4%9A%E5%A4%A9%E7%BA%BF%E6%8A%80%E6%9C%AF/%E5%9B%BE3.png" class>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/08/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-08-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E5%9B%9B-%E6%A8%A1%E6%8B%9F%E6%B3%A2%E6%9D%9F%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/me.jpg">
      <meta itemprop="name" content="水中岚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水中岚">
      <meta itemprop="description" content="水中岚的博客">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 水中岚">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/05/08/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-08-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E5%9B%9B-%E6%A8%A1%E6%8B%9F%E6%B3%A2%E6%9D%9F%E7%AE%A1%E7%90%86/" class="post-title-link" itemprop="url">第7章-大规模多天线传输(四)-模拟波束管理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-05-08 20:57:38" itemprop="dateCreated datePublished" datetime="2022-05-08T20:57:38+08:00">2022-05-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-17 10:21:51" itemprop="dateModified" datetime="2022-05-17T10:21:51+08:00">2022-05-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="为啥要使用模拟波束"><a href="#为啥要使用模拟波束" class="headerlink" title="为啥要使用模拟波束"></a>为啥要使用模拟波束</h2><p>5G NR由于使用了毫米波频段，相比4G而言，载波频率大大提高了。载波频率的提高一方面显著加大了无线信号的传播损耗，减少了天线的覆盖面积，另一方面也大大减小了天线单元的物理尺寸，使得在相同的物理空间里能够安装更多的天线单元，从而可以使用天线阵列、波束赋形等技术加大无线信号的覆盖范围，补偿路径损耗。</p>
<p>在4G LTE系统中，波束赋形已经作为一个重要的功能被广泛应用。由于4G LTE载波频率相对较低，天线单元数量较少，使用数字式波束赋形技术（Digital Beamforming）能够充分发挥其优势，同时基本不受其缺点的影响。而在5G NR系统中，由于天线单元数量的急剧增加，数字式波束赋形技术的缺点越来越明显，因此不得不转向模拟式波束赋</p>
<p>为什么5G NR开始使用模拟式波束赋形呢？因为5G NR的天线数量实在太多了。如果还是使用数字式波束赋形，那么每个天线单元上都必须有一个DAC（发生端）或者ADC（接收端）。如果有100个天线单元，那么就要有100个DAC（发生端）或者ADC（接收端）；这就让天线变得非常臃肿复杂，功耗也大大增加。如果使用模拟式波束赋形，由于多路信号其实是对一个输入信号的相位或者振幅调整，只需要在波束赋形处理矩阵之前有1个DAC（发生端）或者ADC（接收端）即可，因此硬件设计非常的简单。</p>
<h2 id="波束管理过程"><a href="#波束管理过程" class="headerlink" title="波束管理过程"></a>波束管理过程</h2><p>因为同一时间内只能发送有限个模拟赋性波束（波束数量取决于数字端口数量，一个数字端口对应一个波束），并且波束宽度较窄，通常只能覆盖小区的一部分区域，为了实现整个小区的覆盖，需要采用时域内多个波束联合扫描的传输方式，即在一个时间段内通过轮循方式，每个波束依次接力覆盖整个小区不同区域来实现小区的完整覆盖。</p>
<p>对于基站与UE间的单播传输，当基站与UE间的发送和接收波束对齐时，可以获得最大的链路增益，让基站与UE的收发波束对齐的过程，在NR系统中被称为<strong>波束管理过程</strong>。</p>
<h3 id="模拟波束与接收波束的接收过程"><a href="#模拟波束与接收波束的接收过程" class="headerlink" title="模拟波束与接收波束的接收过程"></a>模拟波束与接收波束的接收过程</h3><p>模拟波束赋性在接收过程中，每次接收前需要调整每个射频通道的相位来实现不同方向的接受波束赋性。</p>
<p>数字波束赋性在接收过程中，接收端只需要接收一次信号并进行存储，在接收端采用不同的接收波束赋性参数对存储信号进行数字均衡处理，寻找接收性能最好的赋性参数。</p>
<h3 id="波束管理过程-1"><a href="#波束管理过程-1" class="headerlink" title="波束管理过程"></a>波束管理过程</h3><p>波束选择：在单播的控制或数据传输过程中，基站和UE选择合适的波束方向，以确保最佳的链路传输质量。</p>
<p>波束测量：当无线链路建立以后，UE对基站的多个波束以及接收端采用的多个接收波束进行测量。</p>
<p>波束上报：将波束测量结果上报给基站</p>
<p>波束切换：当UE位置移动、方向变化以及传播路线受到遮挡，配对的收发波束对的传输质量下降时，基站和UE可以选择另外一对质量更好的收发波束对，并进行波束切换操作。</p>
<p>波束指示：通过下行控制信令将所发送的波束指示通知给UE，便于UE的接收与切换。</p>
<p>波束恢复：所监测的所有收发波束传输质量都无法满足链路传输要求的情况下，重新建立基站与UE间的连接的过程。</p>
<h2 id="波束测量"><a href="#波束测量" class="headerlink" title="波束测量"></a>波束测量</h2><p> 1.<strong>波束测量的过程</strong></p>
<p>如果一个基站可以发送$M$个模拟波束，可以用每个波束传输一个赋形的参考信号用于波束的测量。这$M$个参考信号应该在不同时域和&#x2F;或频域资源上传输，以便基站能够针对每个波束调整移相器来实现模拟波束赋形。假如UE有$N$个接收波束，则基站与UE之间一共有$MN$个波束对，才能找到最佳的收发配对波束。</p>
<p>NR支持3种波束测量过程：</p>
<ul>
<li><p>联合收发波束测量：基站和UE都执行波束测量，有两种方式，一是基站的发送波束的参考信号周期发送，接收端在发送端的一个周期内固定让一个波束接收，在下一个周期让接下来的波束接收。二是发送端固定发送端波束方向，直到接收端所有波束都接收到参考信号后发送端切换至下一波束方向。</p>
</li>
<li><p>发送波束测量：基站通过轮循方式发送多个波束的参考信号，UE采用固定的接受波束，选取最合适的发送波束与固定的接收波束配对。</p>
<img src="/2022/05/08/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-08-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E5%9B%9B-%E6%A8%A1%E6%8B%9F%E6%B3%A2%E6%9D%9F%E7%AE%A1%E7%90%86/%E5%9B%BE1.png" class>

<p>用于接收$M$个发送波束的固定接收波束由基站或UE决定</p>
<ol>
<li>如果基站没有提供UE波束的辅助信息，UE通常采用一个宽的接收波束或者轮循接收波束，通常用于初始波束测量时。</li>
<li>如果基站知道UE所处的大致方向，则基站会根据这个方向给出一个接收波束建议，并基于原来的大致方向发送$M$个窄波束，从而获得更加精确的发送波束信息。</li>
</ol>
</li>
<li><p>接收波束测量：基站采用固定波束重复发送参考信号，UE用轮循方式测试不同的接收波束，选取最合适的接受波束与基站的发送波束配对。</p>
<img src="/2022/05/08/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-08-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E5%9B%9B-%E6%A8%A1%E6%8B%9F%E6%B3%A2%E6%9D%9F%E7%AE%A1%E7%90%86/%E5%9B%BE2.png" class>

<p>接收波束测量所用的波束方向将由基站或者UE决定</p>
<ol>
<li>如果基站没有接收波束的先验信息，UE将会用所有接收波束进行扫描接收。</li>
<li>如果基站可以指示接收波束信息给UE，UE则可以根据信息采用更小角度扩展的接收波束进行测量，从而获得更精确的接收波束。波束</li>
</ol>
</li>
</ul>
<h2 id="波束上报"><a href="#波束上报" class="headerlink" title="波束上报"></a>波束上报</h2><p>基站可以设置让UE选择所有下行发送波束中最好或者最合适的$L$个发送波束进行上报。并且这些上报的波束对所对应的接收波束只需要存储在UE中，方便之后的处理，不需要上报给基站。</p>
<p>可以用于波束测量的参数包括参考信号接收功率（RSRP），参考信号接收质量（RSRQ）和CSI。</p>
<p>RSRP测量的计算复杂度低，适合于大量波束的快速测量，因此可用于处死波束测量和配对场景。</p>
<p>CSI测量更加复杂，但可以提供更精确的波束赋形信息，可用于在一部分候选波束中对波束进行精确测量的场景。</p>
<h2 id="波束指示"><a href="#波束指示" class="headerlink" title="波束指示"></a>波束指示</h2><p>前面提到，最佳波束对所对应的接收波束会存储在UE中，所以当基站采用模拟波束赋形的方式传输下行业务数据时，基站需要指示UE所选的下行模拟发送波束的序号。UE接收到指示后，根据波束训练过程存储的信息，调用该序号对应的最佳接收波束进行数据接收。</p>
<p>发送波束的指示方式可以是动态或者是静态的。当数据传输需要快速和高精度的波束赋形时，最好使用动态指示方式随时切换用于传输的波束。</p>
<p>1.控制信道的波束指示</p>
<p>PDCCH的资源被半静态地分为多个CORESET，基站可为每个CORESET匹配一个发送波束，不同地CORESET可以匹配不同的波束方向。基站可以在不同CORESET间动态切换，从而实现波束地动态切换。在发送PDCCH时，基站可以根据UE的信息，选择合适波束方向的CORESET。在接收端，UE将使用与CORESET发送波束对应的接收波束进行接收。PUCCH与PDCCH的机制类似。</p>
<p>2.业务数据信道传输的波束指示</p>
<p>PDCCH包含了PUSCH发送波束的指示信息，因为PDCCH的解码（时间长）以及从PDCCH的模拟波束赋形转换到PDCSH的模拟波束赋形（时间短）均需要一定的时间，如果PDSCH与PDCCH之间间隙较小，则UE无法获得用于接收PDSCH的发送波束指示信息，也就无法确定接收波束。</p>
<p>解决方法：NR定义了一个区分完成和未完成PDCCH解调解码的阈值，如果PDCCH与PDSCH之间的时间间隔小于这个阈值，则PDSCH的接收波束采用PDCCH的接收波束。反之，如果PDCCH和PDSCH的间隔大于这个阈值，PDSCH将根据PDCCH解码成功后的波束指示进行数据接收。</p>
<h2 id="波束失效恢复过程"><a href="#波束失效恢复过程" class="headerlink" title="波束失效恢复过程"></a>波束失效恢复过程</h2><p>1、高频段毫米波通信，反射和衍射性能差，大部分传输质量都集中在直射传播路径。因此设计能够快速从波束遮挡中恢复，确保控制信道传输可靠性和顽健性的机制，是高频段传输中的一个重要内容。</p>
<p>NR中规定，基站通过快速地将PDCCH发送从一个波束切换到另外一个波束，避免了波束遮挡对传输性能的影响，使得UE能够接收到控制信息，恢复数据传输。而基站所选择的新波束是根据UE上报的信息获得的。</p>
<p>2、由于基站可以通过多个下行控制信道发送PDCCH，因此<strong>下行波束失效</strong>定义为：UE所接收到的每一个下行控制信道波束的质量都低于规定阈值。</p>
<p>3、波束失效的指标参数：</p>
<ul>
<li>误块率（BLER）：能够更好地反映信道接收质量，复杂度相对较高，但由于NR将每个UE在所激活的BWP中的CORESET数量限制为3，所以采用BLER作为波束失效的指标参数的复杂度还是相对能接受的。</li>
<li>L1-RSRP：实现复杂度低，但不能够太好地反映信道接收质量。NR最终选择了L1-RSRP作为新候选波束的评估参数。</li>
</ul>
<p>4、用于波束失效测量的参考信号集合的配置，可以采用基站通过信令通知UE的显示配置或者是UE通过控制信道的波束配置隐含获得。</p>
<p>5、新波束指示方式：为了让UE能够上报新的候选波束，网络需要给UE配置响应的参考信号资源集合，这些参考信号对应了候选波束集。UE通过测量参考信号集合，确定用于传输链路的收发波束对。当UE完成测量后，把新的候选波束上报给网络。</p>
<p>6、用于上报波束失效事件和新候选波束的物理信道：PRACH和PUCCH</p>
<p>7、波束恢复过程：</p>
<p>网络将为UE配置一个专用的CORESET，称为CORESET_BFR，用于波束恢复的控制信令传输。当UE测量并上报波束失效消息后，UE开始监听CORESET_BFR内传输的PDCCH，并且UE会假设其所用波束为自己上报的新波束。而基站则会在CORESET_BFR中使用新波束发送PDCCH。</p>
<p>如果之后UE未收到RRC重配置消息（用于CORESET集合的波束配置），则CORESET_BFR将会作为另一个用于调度的CORESET进行正常通信。UE如果收到了RRC重配置消息，则会根据新波束配置，并停止对CORESET_BFR的监听。</p>
<p>此外，当基站受到波束失效事件的上报后，仍然可以使用原来配置的CORESET集合和波束参数进行通信（因为测失效判断是基于10%的BLER测量结果得到的），并可对下行控制信道进行重配置。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/07/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-07-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%B8%89-%E4%BF%A1%E9%81%93%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF%E5%8F%8D%E9%A6%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/me.jpg">
      <meta itemprop="name" content="水中岚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水中岚">
      <meta itemprop="description" content="水中岚的博客">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 水中岚">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/05/07/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-07-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%B8%89-%E4%BF%A1%E9%81%93%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF%E5%8F%8D%E9%A6%88/" class="post-title-link" itemprop="url">第7章-大规模多天线传输(三)-信道状态信息反馈</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-05-07 10:11:02" itemprop="dateCreated datePublished" datetime="2022-05-07T10:11:02+08:00">2022-05-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-08 20:55:05" itemprop="dateModified" datetime="2022-05-08T20:55:05+08:00">2022-05-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="信道状态信息反馈"><a href="#信道状态信息反馈" class="headerlink" title="信道状态信息反馈"></a>信道状态信息反馈</h1><h2 id="框架设计"><a href="#框架设计" class="headerlink" title="框架设计"></a>框架设计</h2><h3 id="CSI反馈的设计原则"><a href="#CSI反馈的设计原则" class="headerlink" title="CSI反馈的设计原则"></a>CSI反馈的设计原则</h3><p>1.LTE中定义了多种反馈模式，导致传输方案以及CSI反馈的分散和复杂化。NR系统为了避免多种反馈模式和子模式，设计了统一的CSI反馈框架，即通过CSI测量和CSI反馈方式进行解耦，将测量资源和测量操作与具体上报操作分离，以更加灵活的方式支持不同的MIMO传输方案在多种场景和多种频段的应用。</p>
<p>2.NR的CSI反馈方案以隐式反馈为主，辅以TDD系统的信道互易行反馈。隐式反馈以推荐的传输参数的形式反馈CSI,基站可以直接使用UE推荐的参数进行传输。</p>
<p>3.考虑到SU-MIMO和MU-MIMO的反馈精度要求不同，NR支持两类CSI反馈：一类是普通精度的Type Ⅰ CSI反馈，另一类是高精度Type Ⅱ CSI反馈，具有更高的空间分辨率，目标是提升MU-MIMO的性能。</p>
<h3 id="CSI测量与反馈解耦机制"><a href="#CSI测量与反馈解耦机制" class="headerlink" title="CSI测量与反馈解耦机制"></a>CSI测量与反馈解耦机制</h3><p>1.NR中，CSI包括：</p>
<p>CQI（信道质量指示）、PMI（预编码矩阵指示）、CSI-RS资源指示（CRI）、SSB资源指示（SSBRI）、层指示（LI）、秩指示（RI）、层1参考信号接收功率（L1-RSRP）。</p>
<p>其中，SSBRI、LI、L1-RSRP是NR相对于LTE新增的反馈量。LI指示预编码矩阵中最强的列，用于PT-RS的映射；SSBRI和L1-RSRP用于波束管理，分别指示波束索引和波束强度。</p>
<p>2.根据CSI测量与反馈解耦的原则，基站可以为每个UE配置$N&gt;&#x3D;1$个CSI上报设置，以及$M&gt;&#x3D;1$个资源配置。CSI上报设置定义了CSI上报相关的参数。资源设置定义了UE测量CSI所需的参考信号，包括<strong>信道测量</strong>和<strong>干扰测量</strong>的参考信号。每个CSI上报设置关联至一个或多个资源设置，分别用于信道和干扰的测量，不同CSI上报设置可以关联至同一个资源设置。</p>
<h2 id="码本设计"><a href="#码本设计" class="headerlink" title="码本设计"></a>码本设计</h2><p>随着天线规模的增加以及平面阵列的应用，天线配置更加灵活，码本结构只有和阵列的形式相匹配，才能匹配信道的统计特性。NR沿用了LTE中两种码本类型的设计，常规精度（对应Type Ⅰ码本）的CSI反馈用于链路的保持及SU-MIMO和MU-IMO的传输，高精度（对应Type Ⅱ码本）的CSI反馈用于提升MU-MIMO的性能。</p>
<p>NR采用了参数化码本结构，NR码本分为两级（$W&#x3D;W_1W_2$）：$W_1$描述信道的长期、宽带特性，包含一个DFT波数（组）；$W_2$描述信道的短期、子带特性。</p>
<p>$W_1$的结构为</p>
<img src="/2022/05/07/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-07-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%B8%89-%E4%BF%A1%E9%81%93%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF%E5%8F%8D%E9%A6%88/%E5%9B%BE1.png" class>

<p>$B&#x3D;[b_0…b_{L-1}]$是由$L$个过采样的DFT波束（向量）构成的矩阵，$W_1$两个对角块分别针对两个极化方向。</p>
<p>其中，$W_1$作用是确定一组DFT波束。</p>
<p>Type Ⅰ码本的$W_2$由加权的列选择向量构成。$W_2$的列选择向量的作用是从$L$个波束中为一个子带选择一个波束。在高精度的Type Ⅱ码本中，$W_2$的作用是对$W_1$的DFT波束进行线性合并。</p>
<img src="/2022/05/07/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-07-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%B8%89-%E4%BF%A1%E9%81%93%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF%E5%8F%8D%E9%A6%88/%E5%9B%BE2.png" class>

<h2 id="测量机制"><a href="#测量机制" class="headerlink" title="测量机制"></a>测量机制</h2><p>NR的CSI反馈框架既支持<strong>波束管理</strong>也支持<strong>CSI获取</strong>。</p>
<p>用于波束管理时，UE仅测量L1-RSRP，无须进行干扰测量；</p>
<p>用于CSI获取时，UE既需要进行信道测量也需要进行干扰测量。</p>
<h3 id="信道测量"><a href="#信道测量" class="headerlink" title="信道测量"></a>信道测量</h3><p>NR选择NZP CSI-RS作为信道测量资源。用于信道测量的NZP CSI-RS可以采用宽波束赋性和窄波束赋性两种传输方式。</p>
<p>宽波束赋性CSI-RS的传输，每个天线端口都是宽波束传输，因此可以覆盖整个小区的角度范围，多个UE可以共享一个CSI-RS资源，但为了获得完整的信道特性，需要较大的端口特性。</p>
<p>窄波束赋性CSI-RS的传输，CSI-RS经过波束赋形后传输给UE以获得赋性增益，增加覆盖范围，每个天线端口均为短波束传输，空间覆盖的角度范围较小。一般波束赋形CSI-RS特指窄波束赋性CSI-RS。</p>
<img src="/2022/05/07/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-07-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%B8%89-%E4%BF%A1%E9%81%93%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF%E5%8F%8D%E9%A6%88/%E5%9B%BE3.png" class>

<h3 id="干扰测量"><a href="#干扰测量" class="headerlink" title="干扰测量"></a>干扰测量</h3><p>（1）基于CSI-IM的干扰测量</p>
<p>NR支持基于CSI-IM资源的干扰测量，CSI-IM资源与NZP CSI-RS资源一一对应，当传输多个波束赋性NZP CSI-RS资源用于信道测量时，每个波束方向都对应一个CSI-IM资源用于测量波束之间的干扰，保证CSI测量的精度。</p>
<p> （2）基于NZP CSI-RS的干扰测量</p>
<p>NZP CSI-RS可以支持仅配置为用于干扰测量，该方法仅适用于非周期CSI上报。</p>
<h2 id="反馈机制"><a href="#反馈机制" class="headerlink" title="反馈机制"></a>反馈机制</h2><p>NR没有采用LTE系统中将完整CSI拆分在多个子帧反馈的方式，而是将完整的CSI在一个时隙内进行反馈。信道状态信息可以在PUCCH反馈也可以在PUSCH反馈。基于以上的CSI反馈框架，NR支持周期、半持续和非周期CSI上报。</p>
<h3 id="周期性CSI上报"><a href="#周期性CSI上报" class="headerlink" title="周期性CSI上报"></a>周期性CSI上报</h3><p>周期性CSI上报之只能采用周期性CSI-RS进行信道测量，也只能采用周期性CSI-IM进行干扰测量。</p>
<h3 id="半持续CSI上报"><a href="#半持续CSI上报" class="headerlink" title="半持续CSI上报"></a>半持续CSI上报</h3><p>半持续CSI在CSI上报被激活后和被去激活之前按一定的周期进行CSI上报。半持续CSI可以使用周期CSI-RS或者半持续CSI-RS进行信道测量，相应地，使用周期CSI-IM或半持续CSI-IM进行干扰测量，但不能使用NAP CSI-RS测量干扰。并且，半持续CSI可以通过PUSCH上报也可以通过PUCCH上报。</p>
<h3 id="非周期CSI上报"><a href="#非周期CSI上报" class="headerlink" title="非周期CSI上报"></a>非周期CSI上报</h3><p>非周期CSI上报采用周期、半持续或非周期CSI-RS进行信道测量，使用周期、半持续或非周期CSI-IM进行干扰测量，也可以采用非周期NZP CSI-RS进行干扰测量。每个非周期的CSI上报设置可以关联至1个、2个或3个资源设置：</p>
<ul>
<li>关联至1个资源设置：用于波束管理</li>
<li>关联至2个资源设置：一个是基于NZP CSI-RS的信道测量资源，另一个是基于CSI-IM或NZP CSI-RS的干扰测量资源</li>
<li>关联至3个资源设置：第一个是基于NZP CSI-RS的信道测量资源，第二个是基于CSI-IM的干扰测量资源，第三个是基于NZP CSI-RS的干扰测量资源。</li>
</ul>
<h2 id="PUCCH承载"><a href="#PUCCH承载" class="headerlink" title="PUCCH承载"></a>PUCCH承载</h2><p>PUCCH可以承载周期性CSI和半持续SP-CSI上报，具体如下图所示：</p>
<img src="/2022/05/07/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-07-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%B8%89-%E4%BF%A1%E9%81%93%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF%E5%8F%8D%E9%A6%88/%E5%9B%BE4.png" class>

<p>NR采用CSI在一个时隙完整上报的方式，但由于CSI的比特数与CSI的一部分秩指示（RI）有关，基站在不确定CSI的比特数情况下，只能通过盲检对各种可能性进行尝试。因此NR采用了以下两种CSI上报方式解决CSI比特数模糊的问题。</p>
<ul>
<li>未拆分CSI填零：这种方式通过补零保证反馈开销在所有情况下均恒定。</li>
<li>拆分CSI:将CSI拆分成两个部分，第一部分的比特数固定，且第一部分的内容可以确定第二部分的比特数。</li>
</ul>
<h2 id="PUSCH承载"><a href="#PUSCH承载" class="headerlink" title="PUSCH承载"></a>PUSCH承载</h2><p>PUSCH可以承载半持续和非周期CSI上报。</p>
<img src="/2022/05/07/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-07-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%B8%89-%E4%BF%A1%E9%81%93%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF%E5%8F%8D%E9%A6%88/%E5%9B%BE5.png" class>

<h2 id="CSI上报优先级"><a href="#CSI上报优先级" class="headerlink" title="CSI上报优先级"></a>CSI上报优先级</h2><p>多种CSI上报分别配置和触发时，会出现不同的CSI在相同的OFDM上报的情况，称之为<strong>CSI冲突</strong>。如不同时域特性的CSI发生冲突，不同上报内容的CSI发生冲突。因为NR R15不允许UE在一个OFDM符号上同时传输多个物理信道，冲突发生时有两种处理方式：其一为复用，即发生冲突的CSI复用在一个物理信道传输；其二为丢弃，按照一定优先级顺序丢弃较低优先级的CSI。</p>
<p>CSI的优先级如下：首先按规则1区分不同的优先级，若按规则1发现优先级相同，则根据规则2区分不同的优先级，以此类推，知道分出优先级：</p>
<ul>
<li><p>规则1：时域特性或承载信道（优先级从高到低为非周期CSI&gt;PUSCH承载的SP-CSI&gt;PUCCH承载的SP-CSI&gt;周期CSI）</p>
</li>
<li><p>规则2：CSI上报内容（优先级从高到低为波束管理&gt;CSI获取）</p>
</li>
<li><p>规则3：服务小区索引（PCell&gt;PSCell&gt;其他小区且按索引升序排列）</p>
</li>
<li><p>规则4：CSI上报设置ID(升序排列)</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/05/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-05-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%8C-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/me.jpg">
      <meta itemprop="name" content="水中岚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水中岚">
      <meta itemprop="description" content="水中岚的博客">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 水中岚">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/05/05/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-05-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%8C-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7/" class="post-title-link" itemprop="url">第7章-大规模多天线传输(二)-参考信号</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-05-05 11:01:44" itemprop="dateCreated datePublished" datetime="2022-05-05T11:01:44+08:00">2022-05-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-07 09:57:50" itemprop="dateModified" datetime="2022-05-07T09:57:50+08:00">2022-05-07</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="参考信号"><a href="#参考信号" class="headerlink" title="参考信号"></a>参考信号</h1><p>参控信号是MIMO方案设计的重要组成部分。</p>
<p>本章将介绍4种参考信号的设计：信道状态信息参考信号（CSI-RS）、解调参考信号（DM-RS）、相位跟踪参考信号（PT-RS）和上行探测参考信号（SRS）。</p>
<h2 id="解调参考信号（DM-RS）"><a href="#解调参考信号（DM-RS）" class="headerlink" title="解调参考信号（DM-RS）"></a>解调参考信号（DM-RS）</h2><h3 id="DM-RS的设计原则"><a href="#DM-RS的设计原则" class="headerlink" title="DM-RS的设计原则"></a>DM-RS的设计原则</h3><ol>
<li><strong>DM-RS前置</strong>：在每个调度时间内，DM-RS首次出现的位置应当尽可能地靠近调度的起始点。前置DM-RS的使用有助于接收端尽早开始估计信道并进行接收检测，对于降低时延并支持自包含帧结构具有重要的作用。每一组DM-RS最多可占用2个DM-RS符号。</li>
<li><strong>附加DM-RS</strong>：NR系统所考虑的移动速率最高可达500km&#x2F;h，在高速场景之中，还需要在调度持续时间内安插更多的DM-RS符号，以满足对时变信道的估计精度要求。针对这一问题，NR采用了前置DM-RS与时域密度可配置的附加DM-RS相结合的DM-RS结构。每一组附加DM-RS的图样都是前置DM-RS的重复。</li>
<li><strong>上下行对称</strong>：NR系统内可能会存在上下行链路之间的干扰。上下行对称设计对于抑制不同链路方向之间的干扰将会带来更大的便利。上下行对称的设计体现在：<ul>
<li>图样以及端口的复用方式的一致性，上行使用CP-OFDM波形时，上下行DM-RS的图样、序列以及复用方式均一致；</li>
<li>配置的一致性，取决于具体配置，上下行DM-RS的时域位置可以相同，从而有可能估计出不同方向链路的空间干扰信息，并能为有效地对其进行抑制。</li>
</ul>
</li>
<li><strong>支持的层数</strong>：MIMO传输的层数会直接影响系统的频谱利用效率以及峰值速率等指标，而天线端口数的增加为进一步提升MIMO维度创造了可能。NR系统种MU-MIMO的正交端口数增加到了12个。下行和上行链路中没UE最多可以传输的层数分为8层和4层。</li>
<li>DFT-s-OFDM波形的上行DM-RS：仅支持单流传输，DM-RS采用了梳状结构的资源映射，以极低PARP的AC序列。</li>
</ol>
<h3 id="DM-RS端口复用方式"><a href="#DM-RS端口复用方式" class="headerlink" title="DM-RS端口复用方式"></a>DM-RS端口复用方式</h3><p>DM-RS端口采用频分复用+码分复用的方式进行复用。在每个CDM组内通过正交覆盖码（OOC）分为多个端口，CDM组内通过FDM方式进行区分。</p>
<p>NR支持两种DM-RS类型，由高层信令配置使用的DM-RS类型。NR DM-RS可以包括一个（单符号DM-RS）或者2个（DM-RS）OFDM符号。两种DM-RS类型的复用和配置方式具体描述如下：</p>
<p>1.DM-RS类型1</p>
<img src="/2022/05/05/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-05-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%8C-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7/%E5%9B%BE1.png" class>

<ul>
<li>单符号DM-RS，一个OFDM符号内的子载波被分为两组频分的梳状资源，其中每组梳状资源构成一个CMD组。CMD组内部通过2个OCC支持2端口复用，最多支持4个端口。</li>
<li>双符号DM-RS在单符号结构的基础上增加时域OCC，每组梳状资源占用连续两个OFDM符号，每个CDM组通过4个时频域的OCC实现4个正交端口，因此最多支持8个正交端口。</li>
</ul>
<p>2.DM-RS类型2</p>
<img src="/2022/05/05/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-05-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%8C-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7/%E5%9B%BE2.png" class>

<ul>
<li>单符号DM-RS，一个OFDM符号内的子载波被分为3个CDM组，每个CDM组由两对相邻的两个子载波构成，CDM组内通过2个OCC支持2端口复用，组内FDM，因此最多支持6个端口。</li>
<li>双符号DM-RS在单符号结构的基础上增加了TD-OCC，每个CDM组占用连续的两个OFDM符号，每个CDM组通过4个时频域的OCC支持4个正交端口，3个CDM组中最多支持12个端口。</li>
</ul>
<p>总结：类型1的频域密度更高，每个包含DM-RS的符号上平均每个端口占用3个RE，可以获得更好的信道估计性能，相应的开销也高。</p>
<p>类型2在每个DM-RS符号上的密度为2RE&#x2F;端口，支持的端口数更多，达到12，可以更好地支持高阶MU-MIMO传输，类型2在相对常用地1-4层传输范围内具有更低地开销。</p>
<h3 id="附加DM-RS配置"><a href="#附加DM-RS配置" class="headerlink" title="附加DM-RS配置"></a>附加DM-RS配置</h3><p>NR系统中采用了前置DM-RS与时域密度可配置的附加DM-RS相结合的结构，每一组附加DM-RS的图样都是前置DM-RS的重复，根据具体使用场景及移动性，可以配置最多3组附加DM-RS，其数量取决于高层的配置以及具体的调度时长。</p>
<p>附加DM-RS的位置考虑以下原则：</p>
<ul>
<li>尽可能均匀的时域分布，保证各个OFDM符号上的信道估计精度尽可能均衡。</li>
<li>不同调度时长情况下，DM-RS符号的位置尽可能相同。</li>
<li>尽量避开调度区域的最后一个符号，以尽可能降低信道估计对检测时延的影响。</li>
</ul>
<h3 id="DM-RS端口指示"><a href="#DM-RS端口指示" class="headerlink" title="DM-RS端口指示"></a>DM-RS端口指示</h3><p>NR PDSCH和DM-RS在相同的天线端口传输，PDSCH所占用的天线端口是由DCI中的端口分配指示信息域提示的。基站通过天线端口的分配来实现SU-MIMO和MU-MIMO的切换。DCI中的端口分配指示信息包括UE的PDSCH占用的天线端口集合，以及在其调度资源上所有不用于数据传输的CDM组数量。PUSCH的端口分配指示信息同样除了指示PUSCH对应的天线端口集合外，也提供不用于数据传输的总的CDM组占用情况。</p>
<h3 id="DM-RS功率偏移"><a href="#DM-RS功率偏移" class="headerlink" title="DM-RS功率偏移"></a>DM-RS功率偏移</h3><p>进行非恒模调制信号（如QAM）的解调时，接收机需要知道调制信号的EPRE和对应端口的DM-RS的EPRE的比值，以判断调制信号的幅度。PDSCH和PUSCH EPRE相对于DM-RS EPRE的比值通过DCI中指示的DM-RS的CDM组的个数来决定，具体如下：</p>
<ol>
<li>DM-RS类型1：<ul>
<li>如果只有一个CDM组没有数据传输，则每层数据与其对应的DM-RS端口的功率相同。</li>
<li>如果两个CDM组没有数据传输，则每层数据的功率是其对应DM-RS端口功率的1&#x2F;2。</li>
</ul>
</li>
<li>DM-RS类型2：<ul>
<li>如果只有一个CDM组没有数据传输，则每层数据与其对应的DM-RS端口的功率相同。</li>
<li>如果两个CDM组没有数据传输，则每层数据的功率是其对应DM-RS端口功率的1&#x2F;2。</li>
<li>如果三个CDM组没有数据传输，则每层数据的功率是其对应DM-RS端口功率的1&#x2F;3。</li>
</ul>
</li>
</ol>
<h2 id="信道状态信息参考信息（CSI-RS）"><a href="#信道状态信息参考信息（CSI-RS）" class="headerlink" title="信道状态信息参考信息（CSI-RS）"></a>信道状态信息参考信息（CSI-RS）</h2><p>NR CSI-RS主要用于：</p>
<ul>
<li>获取信道状态信息</li>
<li>波束管理</li>
<li>时频跟踪</li>
<li>移动性管理</li>
</ul>
<p>信道状态信息获取CSI-RS</p>
<p>NR支持的CSI-RS端口数包括1、2、4、8、12、16、24和32。8端口及以上的CSI-RS可以支持一维与二维的天线阵列。</p>
<p><strong>1.CSI-RS图样设计</strong></p>
<p><strong>CSI图样</strong>是指一个CSI-RS资源所占用的资源单位在一个PRB内的分布。NR将时域和频域上相邻的多个RE作为一个CSI-RS图样基本单元（简称基本单元），通过基本单元的聚合构造出不同端口数的CSI-RS图样。</p>
<p>X端口CSI-RS基本单元由一个PRB内频域上相邻的Y个RE与时域上相邻的Z个符号组成。NR支持的CSI-RS基本单元如下：</p>
<ul>
<li>1端口：X&#x3D;1,(Y,Z)&#x3D;(1,1)</li>
<li>2端口：X&#x3D;2,(Y,Z)&#x3D;(2,1)</li>
<li>4端口：X&#x3D;4,(Y,Z)&#x3D;(4,1)和(2,2)</li>
</ul>
<p>CSI的8-32端口均由2端口或4端口基本单元聚合构成。</p>
<p>当一个CSI-RS资源占用N(N≥2)个OFDM符号时，CSI-RS在N个OFDM上占用相同的子载波。若N&#x3D;2，则两个OFDM符号必须相邻。若N&#x3D;4,CSI-RS所在的符号分为两组，每组的OFDM符号必须相邻，两组间的OFDM符号可以相隔多个OFDM符号。</p>
<p><strong>2.CSI-RS密度</strong></p>
<p>CSI-RS密度是指在一个PRB内每个CSI-RS端口占用的RE数量。NR支持的CSI-RS密度包括D&#x3D;1&#x2F;2,1,3。密度1&#x2F;2仅用于CSI获取，且仅在奇数或偶数PRB传输CSI-RS。密度3仅用于波束管理，为了保证波束测量的精度。</p>
<p><strong>3.CSI端口复用</strong></p>
<p>多端口CSI-RS资源采用基于OCC的CDM方式占用相同的RE位置传输。码分复用可以提升每个CSI-RS端口的发射功率，扩大CSI-RS的覆盖范围。NR定义了CSI-RS的CDM图样，以确定每个端口占用的RE位置。</p>
<p>NR定义了CDM-2、CDM-4、CDM-8三个CDM图样。CDM-2图样用于2-32端口聚合，灵活性最高。CDM-4和CDM-8图样分别用于8-32端口和24-32端口的聚合，可以为小区边缘UE提供更好的覆盖，实现多端口的满功率传输。</p>
<img src="/2022/05/05/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-05-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%8C-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7/%E5%9B%BE3.png" class><img src="/2022/05/05/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-05-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%8C-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7/%E5%9B%BE4.png" class>

<p><strong>4.CSI-RS资源配置</strong></p>
<p>CSI资源在一个PRB内的时频域位置通过RRC信令来指示。</p>
<p>在时域上，CSI-RS资源可能占用1个、2个或4个OFDM符号，根据端口数和聚合方式的不同，可以配置在时隙内任意位置起始的一组或两组连续的OFDM符号上。</p>
<p>在频域上，CSI-RS以公共资源块0为参考点的起始PRB位置，占用的PRB数目由高层信令配置。</p>
<h3 id="波束管理CSI-RS"><a href="#波束管理CSI-RS" class="headerlink" title="波束管理CSI-RS"></a>波束管理CSI-RS</h3><p>波束管理CSI-RS只用于波束质量的测量和波束选择。NR系统中，CSI-RS可以分别应用于收发波束同时扫描、发送波束扫描、接收波束扫描（后面两个可以看出第一个的特例）。</p>
<p>以收发波束同时扫描过程为例，介绍它的两组CSI-RS传输方式：</p>
<img src="/2022/05/05/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-05-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%8C-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7/%E5%9B%BE5.png" class>

<ul>
<li>方式1：一个CSI-RS资源结合包含4个采用不同波束传输的CSI-RS资源。CSI-RS资源集合每一次传输对应一次发送波束扫描过程，UE可以分别用不同的波束接收，实现接收波束的扫描。</li>
<li>方式2：CSI-RS资源集和包含4个采用相同波束传输的CSI-RS资源，基站配置4个采用不同的波束传输的CSI-RS资源集合，实现发送波束扫描。UE可以使用4个不同的波束进行接收，从而实现接受波束的扫描。</li>
</ul>
<h3 id="时频精同步CSI-RS"><a href="#时频精同步CSI-RS" class="headerlink" title="时频精同步CSI-RS"></a>时频精同步CSI-RS</h3><p>NR引入可以根据需要配置和触发的时频跟踪参考信号（TRS）来实现时域精同步。NR规定一种特殊配置的CSI-RS做TRS（所以TRS本质还是CSI-RS）TRS的作用是进行时频参数的估计，只有在RRC建立后才需要为UE配置TRS。</p>
<p><strong>1.TRS时域结构</strong></p>
<p>TRS以周期性传输为主，可以根据不同场景选择不同的周期值。</p>
<p>在一个周期内，TRS集中在一个TRS突发内传输。</p>
<p>一个TRS突发内的TRS所占的OFDM符号（TRS符号）个数影响时频参数的估计精度，数量越多，估计的精度越高。</p>
<p>TRS突发内相邻TRS符号间隔越大，能由TRS估计出的最大频偏值越小。</p>
<p>TRS突发内距离最远的两个TRS符号之间的间隔越小，频偏估计的分辨率越低，也就是能由TRS估计出的最小频偏值越大。</p>
<p>NR系统中，一个TRS突发包含1或者2个时隙。在一个时隙内，TRS在两个OFDM符号上传输，令X、$S_t$、N分别表示TRS突发的长度（时隙的个数）、一个时隙内TRS符号的间隔和一个时隙中TRS符号的个数。则NR中TRS时域的结构参数如下：</p>
<ul>
<li>对于频率范围1（FR1）：X&#x3D;2、$S_t&#x3D;4$、N&#x3D;2</li>
<li>对于频率范围2（FR2）：X&#x3D;1或2、$S_t&#x3D;4$、N&#x3D;2。</li>
</ul>
<p><strong>2.TRS频域结构</strong></p>
<p>频域上，信号间隔越大，能由TRS估计出的最大时延值越小。而TRS占用的带宽决定了时延估计的颗粒度。NR将TRS的最小带宽确定为52个PRB。</p>
<p><strong>3.非周期TRS</strong></p>
<p>网络中有许多事件不能与周期TRS对齐，当这些事件发生后，UE不一定能及时接收到TRS，因此NR在周期TRS的基础上引入非周期TRS。在一个TRS突发内，非周期TRS与周期TRS采用相同的时频结构设计。非周期TRS的目的是辅助周期TRS，因此必须要关联一个周期TRS。</p>
<h2 id="相位跟踪参考信号（PT-RS）"><a href="#相位跟踪参考信号（PT-RS）" class="headerlink" title="相位跟踪参考信号（PT-RS）"></a>相位跟踪参考信号（PT-RS）</h2><h3 id="相位噪声"><a href="#相位噪声" class="headerlink" title="相位噪声"></a>相位噪声</h3><p>主要由本地振荡电路引入。在本地振荡器电路系统中，实际输出信号相对于理想输出信号多了一个随机相位。相位噪声导致所有子载波上引入了相同的相位旋转，即共相位误差（CPE）。</p>
<p>一方面，CPE的影响是在所有子载波上引入相同的相位旋转，从而导致所有子载波上的调制星座点以固定角度旋转；另一方面，由于噪声边带的存在，子载波间的相互重叠引起子载波间的干扰。</p>
<p>NR设计相位跟踪参考信号（PT-RS）主要实现对CPE的估计和补偿。在设计上，NR在一个子载波上发送PT-RS，DM-RS占用的OFDM符号不传输PT-RS。如下图所示</p>
<img src="/2022/05/05/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-05-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%8C-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7/%E5%9B%BE6.png" class>

<h3 id="PT-RS的设计"><a href="#PT-RS的设计" class="headerlink" title="PT-RS的设计"></a>PT-RS的设计</h3><ul>
<li><p>频域上：理想情况下一个子载波用于传输PT-RS就可以达到CPE估计和补偿的目的。然而由于噪声和干扰的影响，仅用一个子载波估计CPE可能会存在较大的估计误差，因此NR采用每$K$个PRB占用一个子载波的均匀配置传输PT-RS。PT-RS的频域密度与调度带宽关系如下：</p>
<img src="/2022/05/05/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-05-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%8C-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7/%E5%9B%BE8.png" class>

<p>由于PT-RS在频域分布比较稀缺，所以在频域上既要确定其所在的PRB位置，也需要确定其在PRB中子载波位置。</p>
</li>
<li><p>时域上：PT-RS可以采用不同的时域密度，NR将PT-RS的时域密度与MCS等级关联，当开始PT-RS功能时，通过MCS、调度带宽参数隐式确定PT-RS的时频密度。</p>
<img src="/2022/05/05/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-05-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%BA%8C-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7/%E5%9B%BE7.png" class>

<p>表中，时域密度表示每$L$个OFDM符号占用一个OFDM符号传输PT-RS，$I_{MCS}$表示基站在调度信令中指示的MCS等级。$MCS_i$表示PT-RS时域密度门限值。</p>
</li>
<li><p>空域上：PT-RS端口至少需要关联一个DM-RS端口，用于相位差估计。</p>
<p>若某些端口经历相同的相位噪声，则无须为每个DM0RS端口都进行CPE估计，也就是说，仅需将PT-RS关联至其中一个DM-RS端口，即与该端口使用相同的预编码。并且，NR希望将PT-RS关联至信道质量最佳的DM-RS端口进行传输，因此在CSI反馈中引入LI(Layer Indicator)反馈，指示UE反馈的预编码矩阵中的最强层。</p>
<p>端口数方面，NR R15中下行支持一个PT-RS端口，上行最多支持两个PT-RS端口。对于MU-MIMO，多个UE的PT-RS之间采用非正交复用，且与其他UE的数据间也采用非正交复用。</p>
</li>
</ul>
<h2 id="上行探测参考信号（SRS）"><a href="#上行探测参考信号（SRS）" class="headerlink" title="上行探测参考信号（SRS）"></a>上行探测参考信号（SRS）</h2><p>1.SRS可用于上行信道信息获取、下行信道信息获取以及上行波束管理。</p>
<p>2.NR系统以SRS资源集的方式进行SRS的管理和配置，根据不同的用途，基站可以为UE配置多个SRS资源集，每个SRS资源集包含一个或者多个SRS资源，每个SRS资源包含1、2或4个SRS端口。每个SRS资源集的配置信息中包含一个用途指示，可以被配置为：</p>
<ul>
<li><p>beamManagement：上行波束管理</p>
</li>
<li><p>codebook：基于码本上行传输方案的上行信道信息获取</p>
</li>
<li><p>nonCodebook：非码本上行传输方案的上行信道信息获取</p>
</li>
<li><p>antennaSwitching：基于SRS天线切换的下行信道信息获取</p>
</li>
</ul>
<p>UE向基站上报其支持的SRS传输能力，以便基站为其进行SRS资源集的配置。</p>
<p>3.SRS资源的映射方式：</p>
<ul>
<li><p>时域上：每个SRS资源可以被配置在一个时隙上的最后6个OFDM符号中的1个、2个或4个连续的符号上。占用多个OFDM符号目的是通过重复传输扩展覆盖。</p>
</li>
<li><p>频域上：NR支持两种映射方式</p>
<p>Comb-2：SRS每隔2个子载波进行映射。一个SRS资源在一个PRB中占用6个子载波。</p>
<p>Comb-4：SRS每隔4个子载波进行映射。一个SRS资源在一个PRB中占用3个子载波。</p>
</li>
</ul>
<p>4.NR支持周期、半持续和非周期的SRS发送方式。</p>
<p>5.SRS序列基于ZC序列产生，序列长度等于SRS资源在一个符号内占用的子载波数（即为6或3）。SRS序列分为若干组，每个组包含若干个序列。为了进行干扰随机化，NR支持序列跳频或序列组跳频。如果不进行序列化跳频或序列组跳频，则该SRS资源对应的SRS在各个OFDM符号内使用相同的序列；如果SRS资源被配置为进行序列跳频或序列组跳频，该SRS资源对应的SRS在各个OFDM符号内按照一定规则采用不同序列或序列组对应的序列。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/05/Hexo%E5%AD%A6%E4%B9%A0-2022-05-05-Hexo%E6%9C%AC%E5%9C%B0%E5%8D%9A%E5%AE%A2%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/me.jpg">
      <meta itemprop="name" content="水中岚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水中岚">
      <meta itemprop="description" content="水中岚的博客">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 水中岚">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/05/05/Hexo%E5%AD%A6%E4%B9%A0-2022-05-05-Hexo%E6%9C%AC%E5%9C%B0%E5%8D%9A%E5%AE%A2%E7%AE%A1%E7%90%86/" class="post-title-link" itemprop="url">Hexo本地博客管理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2022-05-05 10:39:35 / 修改时间：11:05:57" itemprop="dateCreated datePublished" datetime="2022-05-05T10:39:35+08:00">2022-05-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>问题：</strong>当博客编写到一定数量时，在_posts文件夹下会显的十分杂乱，不易于管理。</p>
<p><strong>解决方法：</strong>在_posts下根据博客的tags创建对应的子文件夹。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post --path Hexo学习/Hexo本地博客管理.md</span><br></pre></td></tr></table></figure>

<p>执行以上命令，将会在_posts文件夹下创建一个名为“Hexo学习”的子文件夹，并且会在“Hexo学习”下创建Hexo本地博客管理的.md文件。并且要确保Hexo本地博客管理.md的tags修改为Hexo学习</p>
<img src="/2022/05/05/Hexo%E5%AD%A6%E4%B9%A0-2022-05-05-Hexo%E6%9C%AC%E5%9C%B0%E5%8D%9A%E5%AE%A2%E7%AE%A1%E7%90%86/%E5%9B%BE1.png" class>

<p>也就是说，应该根据你的tags创建不同的子文件夹。<strong>子文件夹与与其内部博客的tags应该保持一致</strong></p>
<p>至于之前已经创建在_posts下的.md博客文件，我们可以使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post --path 5G移动通信系统设计与标准详解/1.md</span><br></pre></td></tr></table></figure>

<p>命令创建名为”5G移动通信系统设计与标准详解”的子文件夹，1.md文件只是为了帮助我们创建前面的文件夹，随便起个名字，后面删除掉就行，原因后面会解释。此时我们再将之前的博客转移到对应的文件夹下就行了。</p>
<p><strong>代码解释：</strong></p>
<p>因为，假如我们输入的是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post --path 5G移动通信系统设计与标准详解</span><br></pre></td></tr></table></figure>

<p>Hexo貌似会默认在”5G移动通信系统设计与标准详解“加入.md，从而执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post --path 5G移动通信系统设计与标准详解.md</span><br></pre></td></tr></table></figure>

<p>即在_posts下创建了.md文件，而非子文件夹。</p>
<p>所以我们使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post --path 5G移动通信系统设计与标准详解/1.md</span><br></pre></td></tr></table></figure>

<p><strong>遗留问题：</strong></p>
<p>这样会带来一些麻烦，一是新建的.md文件的title默认为post，需要手动修改，二是文件无法应用new_post_name参数，也就是说你的文章无法自动在文件名前添加时间，需要手动添加。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/04/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-04-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%B8%80-%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/me.jpg">
      <meta itemprop="name" content="水中岚">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="水中岚">
      <meta itemprop="description" content="水中岚的博客">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 水中岚">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/05/04/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-04-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%B8%80-%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">第7章-大规模多天线传输(一)-多天线传输方案</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-05-04 20:09:40" itemprop="dateCreated datePublished" datetime="2022-05-04T20:09:40+08:00">2022-05-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2022-05-06 08:23:33" itemprop="dateModified" datetime="2022-05-06T08:23:33+08:00">2022-05-06</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="多天线传输方案"><a href="#多天线传输方案" class="headerlink" title="多天线传输方案"></a>多天线传输方案</h1><h2 id="下行传输方案"><a href="#下行传输方案" class="headerlink" title="下行传输方案"></a>下行传输方案</h2><p>NR PDSCH传输的处理过程如图所示：</p>
<img src="/2022/05/04/5G%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%A0%87%E5%87%86%E8%AF%A6%E8%A7%A3-2022-05-04-%E7%AC%AC7%E7%AB%A0-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93-%E4%B8%80-%E5%A4%9A%E5%A4%A9%E7%BA%BF%E4%BC%A0%E8%BE%93%E6%96%B9%E6%A1%88/%E5%9B%BE1.png" class> 

<p>高层下发的传输块经信道编码后与码字一一对应；码字中的比特流经过加扰和调制之后，通过层映射模块映射到并行的数据流（或称<strong>层</strong>）；每一层的数据流经过端口映射模块映射到传输使用的天线端口（端口1000-1011）上去。每个天线端口上根据资源分配进行资源的映射以及OFDM调制。其中还有一个非标准化的处理模块（预编码模块），目的是实现天线端口到物理天线的映射过程，也就是实现预编码或者波束赋形的过程。</p>
<p><strong>补充一下LTE中的知识：</strong><a target="_blank" rel="noopener" href="https://www.txrjy.com/thread-549490-1-1.html">请教下有关码字和层映射的问题 - 技术综合版块 - 通信人家园 - Powered by C114 (txrjy.com)</a><br><strong>LTE的下行发送过程：</strong></p>
<ol>
<li>对于来自上层的数据，进行信道编码，形成码字；</li>
<li>对不同的码字进行调制，产生调制符号；</li>
<li>对于不同码字的调制信号组合一起进行层映射；</li>
<li>对于层映射之后的数据进行预编码，映射到天线端口上发送。</li>
</ol>
<p><strong>码字、层和天线端口的区分</strong></p>
<ul>
<li><p>码字：</p>
<p>码字是指来自上层的业务流进行信道编码之后的数据。不同的码字q区分不同的数据流，其目的是通过MIMO发送多路数据，实现空间复用。</p>
<p>由于LTE系统接收端最多支持2天线，所以发送的数据流数量最多为2。这决定了不管发送端天线数为1、2或者4，码字q的数量最多只为2。</p>
<p>当发送端天线只有一根时，实际能够支持的码流数量也只能为1，所以码字数量最多也只能为1。</p>
<p>如果接收端有两根接收天线，但是两根天线高度相关。如果发送端仍然发送两组数据流（两个码字），则接收端无法解码。因此，在收端信道高度相关的情况下，码字数量也只能为1。</p>
<p>综上，码字q的数量决定于信道矩阵的秩。</p>
</li>
<li><p>层</p>
<p>由于码字数量和发送天线数量不一致，需要将码字流映射到不同的发送天线上，因此需要使用层与预编码。</p>
<p>层映射与预编码实际上是“映射码字到发送天线”过程的两个的子过程。</p>
<p>层映射首先按照一定的规则将码字流重新映射到多个层（新的数据流），（注：层的数量小于物理信道传输所使用的天线端口数量）。</p>
<p>预编码再将数据映射到不同的天线端口上。</p>
<p>在各个天线端口上进行资源映射，生成OFDM符号并发射。</p>
</li>
<li><p>天线端口</p>
<p>天线端口指用于传输的<strong>逻辑</strong>端口，与物理天线不存在定义上的一一对应关系。天线端口由用于该天线的参考信号来定义。</p>
<p>从层到物理天线端口传输是通过预编码来完成的。无论层数是多少，只要其小于用于物理传输的端口数，即可通过预编码矩阵W(i)将其映射到物理的传输天线上。</p>
</li>
</ul>
<p><strong>总结</strong></p>
<p>码字用于区分空间复用的流；层用于重排码字数据；天线端口决定预编码天线映射。  </p>
<h3 id="码字映射"><a href="#码字映射" class="headerlink" title="码字映射"></a>码字映射</h3><h4 id="码字数量"><a href="#码字数量" class="headerlink" title="码字数量"></a>码字数量</h4><p>NR系统中SU-MIMO可以支持最多8层的数据传输。NR的数据层数为1-4时采用单码字传输，5-8层时采用双码字传输。</p>
<h4 id="码字到层的映射"><a href="#码字到层的映射" class="headerlink" title="码字到层的映射"></a>码字到层的映射</h4><ul>
<li>对等映射：两个码字对应的层数尽可能相等。层数为偶数时，两个码字的层数相同；层数为奇数时，码字“0”的层数比码字“1”少一个。</li>
<li>非对等映射：完全根据各层的信道条件灵活调整码字与层的对应关系。</li>
</ul>
<p>NR采用了对等映射。</p>
<p><strong>码字到空&#x2F;时&#x2F;频资源的映射</strong></p>
<p>针对基于CP-OFDM的传输方式，考虑过以下几种映射</p>
<ul>
<li>方式1（层-频率-时间）：每个码字首先串&#x2F;并转换为层，然后对于每一层，调制符号按照先频域（子载波）后时域（符号）的方式进行映射。UE在接收到某个码块组的一个或数个OFDM符号后就进行解码，拥有较低的解码时延。NR R15选择了这种方式。</li>
<li>方式2（层组1-频率-时间，层组2-频率-时间）将多个数据层分为两组，分别在组内按照层-频率-时间的顺序进行映射。</li>
<li>方式3（层-时间-频率）每层的调制符号先依次映射到对应于某一子载波的各OFDM符号上，然后再在下一子载波重复上述操作。优势在于可以在时变信道中获得更高的时间分级增益，缺点是解码时延大。</li>
</ul>
<p>基于DFT-s-OFDM的上行传输只能支持单流，沿用了层-频率-时间的映射方式。</p>
<h3 id="PRB绑定"><a href="#PRB绑定" class="headerlink" title="PRB绑定"></a>PRB绑定</h3><p>NR 的DM-RS与数据采用相同的预编码，这种情况下，频率选择性预编码的性能与信道估计精度之间存在一定的矛盾。为了获得多个PRB联合信道估计的处理增益，就会限制频率选择性预编码的颗粒度，从而降低预编码增益；反之，如果为了获得频率选择性预编码的增益而对每个PRB独立编码，则无法进行联合信道估计。NR使用预编码资源组（PRG）来控制频率选择性编码的颗粒度。PRG定义为一组连续的PRB（物理资源块），在这组PRB上，UE可以假设基站用相同的预编码矩阵传输。</p>
<p>NR将PRB的大小确定为2、4或者“连续的被调度带宽”三种取值。</p>
<h3 id="高可靠性传输方案"><a href="#高可靠性传输方案" class="headerlink" title="高可靠性传输方案"></a>高可靠性传输方案</h3><p>针对高速移动场景以及高频段常见的遮挡效应，特殊设计的多天线传输方案可以提高传输的<strong>可靠性</strong>。如：</p>
<ul>
<li>基于多TRP（传输&#x2F;接收点）&#x2F;阵面的发射分集方案：通过多个TRP&#x2F;阵面分别发送具有一定冗余度的多个数据样本，传输被阻断的可能性被降低。</li>
<li>半开环传输方案：将粗略的波束反馈信息（闭环）与开环的预编码轮循相结合。如：根据UE的上报信息，使用较宽的波束或者小范围扫描的一组波束向UE所处的大致方向进行赋性可以提高可靠性。</li>
</ul>
<h3 id="多传输点协作"><a href="#多传输点协作" class="headerlink" title="多传输点协作"></a>多传输点协作</h3><p>1.多点协作可以改善小区边缘的覆盖，在服务区内提供更为均衡的服务质量，在NR中仍是一种重要的技术手段。随着频段的升高，为了保证网络覆盖，需要相对密集的接入点部署。而随着有源天线设备集成度的提高，高频段将更加倾向于采用模块化的有源天线阵列。每个TRP的天线阵列可以被分为若干个相对独立的天线阵面，整个阵面的形态和端口数可以随着部署场景和业务需求进行灵活的调制。</p>
<p>2.根据发送信号流到多个TRP&#x2F;阵面的映射关系，多点协作传输技术可以分为相干和非相干两种。</p>
<ul>
<li>相关传输：每个数据层会经过加权向量映射到多个TRP&#x2F;阵面上</li>
<li>非相干传输：每个数据层只映射到部分TRP&#x2F;阵面上，不同数据层映射到不同TRP&#x2F;阵面上。</li>
</ul>
<p>多点协作重点考虑非相干传输。</p>
<p>3.非相干-联合传输（NC-JT）可以采用PDCCH调度单个PDSCH的方式（方式1），也可以采用多个PDCCH各自调度对应的PDSCH的方式（方式2）</p>
<p>方式1传输点之间的协作更紧密，需要更为理想的回传链路交互CSI和控制信息。</p>
<p>方式2多个PDSCH的传输相对独立，对回传链路的时延等非理想因素不敏感。</p>
<h2 id="上行传输方案"><a href="#上行传输方案" class="headerlink" title="上行传输方案"></a>上行传输方案</h2><p>1.NR系统的上行链路支持DFT-s-OFDM调制于CP-OFDM调制。使用DFT-s-OFDM时，每个UE只能进行单流传输；使用CP-OFDM时，每个UE可以使用4个数据流，从而支持更高的峰值速率。</p>
<p>2.NR上行传输支持基于码本和非码本传输</p>
<ul>
<li>基于码本：UE使用固定的预编码矩阵来源于固定的码本，是基站根据测量的上行信道选择的。</li>
<li>非码本：若上下行存在互易性则可使用非码本传输，UE可以基于对下行信道的测量向基站推荐上行链路中可以使用的预编码矩阵，然后由基站确定上行调度时使用的预编码矩阵。</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">水中岚</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
